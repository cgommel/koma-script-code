% ======================================================================
% scrlttr2-experts.tex
% Copyright (c) Markus Kohm, 2002-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% scrlttr2-experts.tex
% Copyright (c) Markus Kohm, 2002-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Chapter about scrlttr2 of the KOMA-Script guide expert part
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Kapitel ueber scrlttr2 im Experten-Teil der KOMA-Script-Anleitung
% Verwaltet von Markus Kohm
%
% ============================================================================

\ProvidesFile{scrlttr2-experts.tex}[2012/02/29 KOMA-Script guide (chapter:
scrlttr2 for experts)]

\translator{Harald Bongartz\and Georg Grandke\and Raimund Kohl\and Jens-Uwe
  Morawski\and Stephan Hennig\and Gernot Hassenpflug\and Markus Kohm}

% Date of the translated German file: 0000/00/00

\chapter{Additional Information about the Letter Class
  \Class{scrlttr2}\protect\footnote{Translation of this chapter is still
    missing or incomplete. Instead of the translations of the original chapter
    from the German manual you may find here outdated information from the old
    English manual without any structur. Translators from German to English
    would be welcome!}}
\labelbase{scrlttr2-experts}

This chapter gives additional information about the \KOMAScript{} class
\Class{scrlttr2}. \iffree{Some parts of the chapter are subject to the
  \KOMAScript{} book \cite{book:komascript} only. This shouldn't be a problem,
  because the}{The} average user, who only want to use the package, won't need
the information. Other information is addressed to users, who want additional
information about details. For example the first section will describe
pseudo-lengths in detail. These may be used to modify the note paper.  Another
part of the information describes features of the class that exist only
because of compatibility to deprecated \Class{scrlettr} class. Last but not
least it will be described in detail how to change a document from the old
\Class{scrlettr} class to be used with the current \Class{scrlttr2} class.


\section{Pseudo-Lengths for Experienced Users\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.pseudoLengths}
\BeginIndex{}{pseudo-lengths}

{\TeX} works with a fixed number of registers. There are registers for tokens,
for boxes, for counters, for skips and for dimensions.  Overall there are 256
registers for each of these categories. For {\LaTeX} lengths, which are
addressed with \Macro{newlength}, skip registers are used. Once all these
registers are in use, you can not define any more additional lengths.  The
letter class \Class{scrlttr2} would normally use up more than 20 of such
registers for the first page alone. {\LaTeX} itself already uses 40 of these
registers. The \Package{typearea} package needs some of them too; thus,
approximately a quarter of the precious registers would already be in
use. That is the reason why lengths specific to letters in \Class{scrlttr2}
are defined with macros instead of lengths. The drawback of this approach is
that computations with macros is somewhat more complicated than with real
lengths.

It can be pointed out that the now recommended {\LaTeX} installation with
{\eTeX} no longer suffers from the above-mentioned limitation. However, that
improvement came too late for \Class{scrlttr2}.

The pseudo-lengths defined and uses by \Class{scrlttr2} are listed in
\autoref{tab:scrlttr2-experts.pseudoLength}. Cross references to the detailed
descriptions of each pseudo-lengths in the following sub-sections are also
given in the table.

A schematic display of the most important distances of the note paper is shown
in \autoref{fig:scrlttr2-experts.pseudoLength} at
\autopageref{fig:scrlttr2-experts.pseudoLength}. Beside the
pseudo-lengths for the modifiable distances, also some lengths, that may not
be modified are shown in light gray. Some rarely needed pseudo-length of the
note paper have been omitted to get a more clear arrangement.
%
\begin{desclist}
  \renewcommand{\abovecaptionskipcorrection}{-\normalbaselineskip}%
  \desccaption{%
    Pseudo-lengths provided by class \Class{scrlttr2}%
    \label{tab:scrlttr2-experts.pseudoLength}%
  }{%
    Pseudo-lengths provided by class \Class{scrlttr2} (\emph{continued})%
  }%
  \pentry{backaddrheight}{%
    height of the return address at the upper edge of the address field %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.backaddrheight})%
  }%
  \pentry{bfoldmarklength}{%
    length of the bottommost folding mark %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.bfoldmarkvpos})%
  }%
  \pentry{bfoldmarkvpos}{%
    vertical distance of bottommost folding mark from top paper edge %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.bfoldmarkvpos})%
  }%
  \pentry{firstfoothpos}{%
    horizontal distance of the letter footer from the left paper edge; values
    greater than the width of the paper or smaller than the negative value of
    the width of the paper will activate special handling %
    (\autoref{sec:scrlttr2-experts.firstFoot},
    \autopageref{desc:scrlttr2-experts.plength.firstfoothpos})%
  }%
  \pentry{firstfootvpos}{%
    vertical distance of letter footer from top paper edge %
    (\autoref{sec:scrlttr2-experts.firstFoot},
    \autopageref{desc:scrlttr2-experts.plength.firstfootvpos})%
  }%
  \pentry{firstfootwidth}{%
    width of letter footer %
    (\autoref{sec:scrlttr2-experts.firstFoot},
    \autopageref{desc:scrlttr2-experts.plength.firstfootwidth})%
  }%
  \pentry{firstheadhpos}{%
    horizontal distance of the letterhead from the left paper edge; values
    greater than the width of the paper or smaller than the negative value of
    the width of the paper will activate special handling %
    (\autoref{sec:scrlttr2-experts.firstHead},
    \autopageref{desc:scrlttr2-experts.plength.firstheadhpos})%
  }%
  \pentry{firstheadvpos}{%
    vertical distance of letterhead from top paper edge %
    (\autoref{sec:scrlttr2-experts.firstHead},
    \autopageref{desc:scrlttr2-experts.plength.firstheadvpos})%
  }%
  \pentry{firstheadwidth}{%
    width of the letterhead %
    (\autoref{sec:scrlttr2-experts.firstHead},
    \autopageref{desc:scrlttr2-experts.plength.firstheadwidth})%
  }%
  \pentry{foldmarkhpos}{%
    horizontal distance of the horizontal folding marks from left paper edge %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.foldmarkhpos})%
  }%
  \pentry{foldmarkvpos}{%
    vertical distance of the vertical folding marks from the top paper edge %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.foldmarkvpos})%
  }%
  \pentry{fromrulethickness}{%
    thickness of an optional horizontal rule in the letterhead %
    (\autoref{sec:scrlttr2-experts.firstHead},
    \autopageref{desc:scrlttr2-experts.plength.fromrulethickness})%
  }%
  \pentry{fromrulewidth}{%
    length of an optional horizontal rule in letterhead %
    (\autoref{sec:scrlttr2-experts.firstHead},
    \autopageref{desc:scrlttr2-experts.plength.fromrulewidth})%
  }%
  \pentry{lfoldmarkhpos}{%
    horizontal distance of the vertical folding mark from the left paper edge %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.lfoldmarkhpos})%
  }%
  \pentry{lfoldmarklength}{%
    length of the vertical folding mark %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.lfoldmarklength})%
  }%
  \pentry{locheight}{%
    height of the field with the extended sender's information, of the value
    is not zero; \PLength{toaddrheight} will be used instead of zero value %
    (\autoref{sec:scrlttr2-experts.locationField},
    \autopageref{desc:scrlttr2-experts.plength.locheight})%
  }%
  \pentry{lochpos}{%
    horizontal distance of the field with the extended sender's information
    from the right paper edge, if the value is positive; negative horizontal
    distance from the left paper edge, if the value is negative; negative
    value of \PLength{toaddrhpos} will be used instead of zero value %
    (\autoref{sec:scrlttr2-experts.locationField},
    \autopageref{desc:scrlttr2-experts.plength.lochpos})%
  }%
  \pentry{locvpos}{%
    vertical distance of the field with the extended sender's information from
    the top paper edge, if the value is not zero; \PLength{toaddrvpos} will be
    used instead of zero value %
    (\autoref{sec:scrlttr2-experts.locationField},
    \autopageref{desc:scrlttr2-experts.plength.locvpos})%
  }%
  \pentry{locwidth}{%
    width of the field with the extended sender's information; for zero value
    width is calculated automatically with respect to option \Option{locfield}
    that is described in \autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.option.locfield} %
    (\autoref{sec:scrlttr2-experts.locationField},
    \autopageref{desc:scrlttr2-experts.plength.locwidth})%
  }%
  \pentry{mfoldmarklength}{%
    length of the middle horizontal folding mark %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.mfoldmarklength})%
  }%
  \pentry{mfoldmarkvpos}{%
    vertical distance of the middle horizontal folding mark from the top paper
    edge %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.mfoldmarkvpos})%
  }%
  \pentry{pfoldmarklength}{%
    length of the puncher hole mark %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.pfoldmarklength})%
  }%
  \pentry{refaftervskip}{%
    vertical skip below reference fields or business line %
    (\autoref{sec:scrlttr2-experts.refLine},
    \autopageref{desc:scrlttr2-experts.plength.refaftervskip})%
  }%
  \pentry{refhpos}{%
    horizontal distance of reference fields or business line from left paper
    edge; for zero value reference fields line is centered horizontally on
    letter paper %
    (\autoref{sec:scrlttr2-experts.refLine},
    \autopageref{desc:scrlttr2-experts.plength.refhpos})%
  }%
  \pentry{refvpos}{%
    vertical distance of reference fields or business line from top paper
    edge %
    (\autoref{sec:scrlttr2-experts.refLine},
    \autopageref{desc:scrlttr2-experts.plength.refvpos})%
  }%
  \pentry{refwidth}{%
    width of reference fields line %
    (\autoref{sec:scrlttr2-experts.refLine},
    \autopageref{desc:scrlttr2-experts.plength.refwidth})%
  }%
  \pentry{sigbeforevskip}{%
    vertical skip between closing and signature %
    (\autoref{sec:scrlttr2-experts.closing},
    \autopageref{desc:scrlttr2-experts.plength.sigbeforevskip})%
  }%
  \pentry{sigindent}{%
    indentation of signature with respect to text body %
    (\autoref{sec:scrlttr2-experts.closing},
    \autopageref{desc:scrlttr2-experts.plength.sigindent})%
  }%
  \pentry{specialmailindent}{%
    left indentation of mode of dispatch within address field %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.specialmailindent})%
  }%
  \pentry{specialmailrightindent}{%
    right indentation of mode of dispatch within address field %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.specialmailrightindent})%
  }%
  \pentry{subjectaftervskip}{%
    vertical distance after the subject %
    (\autoref{sec:scrlttr2-experts.subject},
    \autopageref{desc:scrlttr2-experts.plength.subjectaftervskip})%
  }%
  \pentry{subjectbeforevskip}{%
    additional vertical distance before the subject %
    (\autoref{sec:scrlttr2-experts.subject},
    \autopageref{desc:scrlttr2-experts.plength.subjectbeforevskip})%
  }%
  \pentry{subjectvpos}{%
    vertical distance of the subject from the top paper edge; zero value will
    set the subject depending on option \Option{subject} %
    (\autoref{sec:scrlttr2-experts.subject},
    \autopageref{desc:scrlttr2-experts.plength.subjectaftervskip})%
  }%
  \pentry{tfoldmarklength}{%
    length of the topmost horizontal folding mark %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.tfoldmarklength})%
  }%
  \pentry{tfoldmarkvpos}{%
    vertical distance of the topmost horizontal folding mark from the top
    paper edge %
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \autopageref{desc:scrlttr2-experts.plength.tfoldmarkvpos})%
  }%
  \pentry{toaddrheight}{%
    height of address field %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.toaddrheight})%
  }%
  \pentry{toaddrhpos}{%
    horizontal distance of the address field from left paper edge, for
    positive values; negative horizontal distance of the address field from
    right paper edge, for negative values %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.toaddrhpos})%
  }%
  \pentry{toaddrindent}{%
    left and right indentation of address within address field %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.toaddrindent})%
  }%
  \pentry{toaddrvpos}{%
    vertical distance of the address field from the top paper edge %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.toaddrvpos})%
  }%
  \pentry{toaddrwidth}{%
    width of address field %
    (\autoref{sec:scrlttr2-experts.addressee},
    \autopageref{desc:scrlttr2-experts.plength.toaddrwidth})%
  }%
\end{desclist}

\begin{figure}
  \centering
  \includegraphics{plenDIN}
  \caption{Schematic of the pseudo-lengths for a letter}
  \label{fig:scrlttr2-experts.pseudoLength}
\end{figure}

\begin{Declaration}
  \Macro{@newplength}\Parameter{name}
\end{Declaration}
\BeginIndex{Cmd}{@newplength}%
This command defines an new pseudo-length. This new pseudo-length is
uniquely identified by its \PName{name}. If with this command a
redefinition of an already existing pseudo-length is attempted, the
commands exits with an error message.

Since the user in general does not define own pseudo-lengths, this command is
not intended as a user command. Thus, it can not be used within a document,
but it can, for example, be used within an
\File{lco}-file\Index{lco-file=\File{lco}-file}.\iffree{}{ Nevertheless, if
  someone likes to define a pseudo-length inside the document, i.\,e. the
  document preamble, then one may avoid that constriction using
  \Macro{makeatletter}\important[i]{\Macro{makeatletter}\\
    \Macro{makeatother}}\IndexCmd{makeatletter} and
  \Macro{makeatother}\IndexCmd{makeatother} (see
  \cite{UK:FAQ}). But\textnote{Attention!} inside an \File{lco}-file these two
  commands should never be used!}%
%
\EndIndex{Cmd}{@newplength}%

\begin{Declaration}
  \Macro{@setplength}%
    \OParameter{factor}\Parameter{pseudo-length}\Parameter{value}\\
  \Macro{@addtoplength}%
    \OParameter{factor}\Parameter{pseudo-length}\Parameter{value}
\end{Declaration}
\BeginIndex{Cmd}{@setplength}%
\BeginIndex{Cmd}{@addtoplength}%
Using the command \Macro{@setplength} you can assign the multiple of a
\PName{value} to a \PName{pseudo-length}. The \PName{factor} is given as an
optional argument (see also \Macro{setlengthtoplength},
\autoref{sec:scrlttr2.pseudoLength},
\autopageref{desc:scrlttr2.cmd.setlengthtoplength}).

The command \Macro{@addtoplength} adds the \PName{value} to a
\PName{pseudo-length}. Again a \PName{factor} may be given as an optional
argument.

To assign, or to add the multiple of, one \PName{pseudo-length} to another
pseudo-length, the command \Macro{useplength} (siehe
\autoref{sec:scrlttr2.pseudoLength},
\autopageref{desc:scrlttr2.cmd.useplength}) is used within \PName{value}.  To
subtract the value of one pseudo-length from another \PName{pseudo-length} a
minus sign, or \PValue{-1}, is used as the \PName{factor}.

Since the user in general does not define own pseudo-lengths, this command is
not intended as a user command. Thus, it can not be used within a document,
but can, for example, be used within an \File{lco}-file.\iffree{}{
  Nevertheless, if someone likes to change the value of a pseudo-length inside
  the document, i.\,e. the document preamble, then one may avoid that
  constriction using
  \Macro{makeatletter}\important[i]{\Macro{makeatletter}\\
    \Macro{makeatother}}\IndexCmd{makeatletter} and
  \Macro{makeatother}\IndexCmd{makeatother} (see
  \cite{UK:FAQ}). But\textnote{Attention!} inside an \File{lco}-file these two
  commands should never be used!}%
%
\EndIndex{Cmd}{@setplength}%
\EndIndex{Cmd}{@addtoplength}%


\subsection{Folding Marks}
\label{sec:scrlttr2-experts.foldmarks}
\index{marks>folding|see{folding marks}}
\BeginIndex{}{folding marks}%

Folding mark are short horizontal lines at the left edge, and short vertical
lines at the upper edge of the paper. \KOMAScript{} at present supports three
configurable horizontal and one configurable vertical foldmarks. In addition,
there is support for a puncher hole mark or center mark which cannot be
shifted in the vertical direction.

\begin{Declaration}
  \PLength{tfoldmarkvpos}\\
  \PLength{mfoldmarkvpos}\\
  \PLength{bfoldmarkvpos}
\end{Declaration}
\BeginIndex{PLength}{tfoldmarkvpos}%
\BeginIndex{PLength}{bfoldmarkvpos}%
\BeginIndex{PLength}{mfoldmarkvpos}%
The letter class \Class{scrlttr2} knows a total of three
vertically placed configurable foldmarks. The position of the topmost
foldmark, taken from the upper edge of the paper, is governed by the
pseudo-length \PLength{tfoldmarkvpos}, that of the middle foldmark by
pseudo-length
\PLength{mfoldmarkvpos}\ChangedAt{v2.97e}{\Class{scrlttr2}}, and that
of the bottommost foldmark by pseudo-length \PLength{bfoldmarkvpos}. With
the addition of the puncher hole\Index{puncher hole mark} or 
center\Index{center mark|see{punch hole mark}}
mark, there is still a fourth horizontal mark. This one is however
always placed at the vertical center of the paper.
\iffalse% Umbruchkorrekturtext
There's no pseudo-length for this last mark, because it vertical position
isn't configurable.
\fi

The\textnote{Attention!} topmost and bottommost foldmarks do not serve to
divide the paper into exactly equal thirds. Instead, with their help, the
paper should be folded such that the address field appears correctly in the
space available in the chosen window envelope format, which is determined by
choice of \File{lco}-file. Several such files are available offering
predefined formats. An anomaly is present with \Option{DINmtext}: for this
format, an envelope format of C6/5 (also known as ``C6 long'') is
assumed. Letters written with this option are not suited to envelopes of
formats C5 or C4.

The middle foldmark is not normally required for Western letters. In Japan,
however, a larger number of envelope formats exists, requiring one more
foldmark (see the Japanese \File{lco}-files). At this point attention is drawn
to the fact that reference to ``topmost'', ``middle'', and ``bottommost''
foldmarks is simply a convenience. In fact, it is not defined that
\PLength{tfoldmarkvpos} must be smaller than \PLength{mfoldmarkvpos}, which in
turn must be smaller than \PLength{bfoldmarkvpos}. If on the other hand one of
the pseudo-lengths is set to null, then the corresponding foldmark will not be
set even if the option
\Option{foldmarks}\IndexOption{foldmarks~=\PName{Einstellung}}%
\important{\Option{foldmarks}} (see \autoref{sec:scrlttr2.firstpage},
\autopageref{desc:scrlttr2.option.foldmarks}) is explicity activated.
%
\EndIndex{PLength}{tfoldmarkvpos}%
\EndIndex{PLength}{mfoldmarkvpos}%
\EndIndex{PLength}{bfoldmarkvpos}%


\begin{Declaration}
  \PLength{tfoldmarklength}\\
  \PLength{mfoldmarklength}\\
  \PLength{bfoldmarklength}\\
  \PLength{pfoldmarklength}
\end{Declaration}
\BeginIndex{PLength}{tfoldmarklength}%
\BeginIndex{PLength}{mfoldmarklength}%
\BeginIndex{PLength}{bfoldmarklength}%
\BeginIndex{PLength}{pfoldmarklength}%
These\ChangedAt{v2.97e}{\Class{scrlttr2}} four pseudo-lengths determine the
lengths of the four horizontal foldmarks. One\textnote{Attention!}
exceptional behaviour exists. If the length is given as null, then the three
vertically-configurable pseudo-lengths \PLength{tfoldmarklength},
\PLength{mfoldmarklength} and \PLength{bfoldmarklength} are set to 2\Unit{mm}
in length. The length of the punchmark, \PLength{pfoldmarklength}, is instead
set to 4\Unit{mm}.%
\EndIndex{PLength}{tfoldmarklength}%
\EndIndex{PLength}{mfoldmarklength}%
\EndIndex{PLength}{bfoldmarklength}%
\EndIndex{PLength}{pfoldmarklength}%


\begin{Declaration}
  \PLength{foldmarkhpos}
\end{Declaration}
\BeginIndex{PLength}{foldmarkhpos}%
This pseudo-length gives the distance of all horizontal foldmarks from the
left edge of the paper. Normally, this is 3.5\Unit{mm}. This\textnote{Hint!}
value can be changed in the user's own \File{lco}-file, in case the user's
printer has a wider unprintable left margin. Whether the foldmarks are typeset
at all depends on the option \Option{foldmarks}\important{\Option{foldmarks}}%
\IndexOption{foldmarks~=\PName{Einstellung}} (see
\autoref{sec:scrlttr2.firstpage},
\autopageref{desc:scrlttr2.option.foldmarks}).
%
\EndIndex{PLength}{foldmarkhpos}%


\begin{Declaration}
  \PLength{lfoldmarkhpos}
\end{Declaration}
\BeginIndex{PLength}{lfoldmarkhpos}%
Apart from\ChangedAt{v2.97e}{\Class{scrlttr2}} the horizontal foldmarks there
is also a vertical foldmark, whose position from the left margin is set via
the pseudo-length \PLength{lfoldmarkhpos}. This foldmark is used, for example,
in Japanese Chou- or You-format envelopes, when one wishes to use A4 size
sheets with them. This can also be useful for envelopes in C6 format.%
\EndIndex{PLength}{lfoldmarkhpos}%


\begin{Declaration}
  \PLength{lfoldmarklength}
\end{Declaration}
\BeginIndex{PLength}{lfoldmarklength}%
The\ChangedAt{v2.97e}{\Class{scrlttr2}} length of the vertical foldmark is set
via the pseudo-length \PLength{lfoldmarklength}.  Here too there is an
exceptional behaviour. When the length is set to null, a length of 4\Unit{mm}
is actually used.%
\EndIndex{PLength}{lfoldmarklength}%


\begin{Declaration}
  \PLength{foldmarkvpos}
\end{Declaration}
\BeginIndex{PLength}{foldmarkvpos}%
This\ChangedAt{v2.97e}{\Class{scrlttr2}} pseudo-length gives the distance of
all vertical foldmarks from the upper edge of the paper. Normally this is
3.5\Unit{mm}, but\textnote{Hint!} the value can be changed in the user's
personal \File{lco}-file in case the user's printer has a wider unprintable
top margin.  Whether the foldmarks are typeset at all depends on the option
\Option{foldmarks}\important{\Option{foldmarks}}%
\IndexOption{foldmarks~=\PName{Einstellung}} (see
\autoref{sec:scrlttr2.firstpage},
\autopageref{desc:scrlttr2.option.foldmarks}). At present there is only one
vertical foldmark, which is designated the left vertical foldmark.
%
\EndIndex{PLength}{foldmarkvpos}%


\begin{Declaration}
  \PLength{foldmarkthickness}
\end{Declaration}
\BeginIndex{PLength}{foldmarkthickness}%
This\ChangedAt{v2.97c}{\Class{scrlttr2}} pseudo-length determines the
thickness of all foldmarks. Default value is 0.2\Unit{pt}, in other words a
very thin hairline. In particular, if the color of the foldmarks is
changed, this can be too thin!%
\EndIndex{PLength}{foldmarkthickness}%
%
\EndIndex{}{folding marks}


\subsection{Letterheads\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.firstHead}

\mbox{}% TODO

\subsection{Addressee\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.addressee}%

\mbox{}% TODO

\subsection{Sender's Extensions\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.locationField}

\mbox{}% TODO

\subsection{Business Line\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.refLine}%

\mbox{}% TODO

\subsection{Subject\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.subject}%

\mbox{}% TODO

\subsection{Closing\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.closing}

\mbox{}% TODO

\subsection{Letter Footer\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.firstFoot}%

\mbox{}% TODO
%
\EndIndex{}{pseudo-lengths}%

\section{Variables for Experienced Users\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.variables}

\mbox{}% TODO

\section{\File{lco}-Files for Experienced Users\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.variables}

\mbox{}% TODO

\subsection{Survey of Paper Size\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.papersize}

\mbox{}% TODO

\subsection{Visualization of Positions\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.visualize}

\mbox{}% TODO

\section{Language Support\protect\footnote{Translation of
    this section is still missing or incomplete. Translators from German to
    English would be welcome!}}
\label{sec:scrlttr2-experts.languages}%

\mbox{}% TODO

\section{From Obsolete \Class{scrlettr} to Current
  \Class{scrlttr2}\protect\footnote{Translation of this section is still
    missing or incomplete. Translators from German to English would be
    welcome!}}
\label{sec:scrlttr2-experts.fromscrlettr}

\mbox{}% TODO

% ============================================================================

\section{Information from the old English Guide\protect\footnote{This
    section is deprecated and should be transformed into the new
    structure. Translators from German to English would be welcome!}}

Nevertheless you may find here some information, that have been moved from the
old English guide and will be placed here until the translation of the
corresponding German chapter will be complete. But you should note, that this
information is not structured or ordered and may be out-dated, deprecated and
even wrong!

% ============================================================================
% Verschoben von scrlttr2.tex:

\begin{Declaration}
  \Macro{usekomavar}\OParameter{command}\Parameter{name}\\
  \Macro{usekomavar*}\OParameter{command}\Parameter{name}
\end{Declaration}
\BeginIndex{Cmd}{usekomavar}\BeginIndex{Cmd}{usekomavar*}%
\begin{Explain}
  The commands \Macro{usekomavar} and \Macro{usekomavar*} are,
  similarly to all commands where a starred version exists or which
  can take an optional argument, not fully expandable. Nevertheless,
  if used within \Macro{markboth}\IndexCmd{markboth},
  \Macro{markright}\IndexCmd{markright} or similar commands, you need
  not insert a \Macro{protect}\IndexCmd{protect} before using them.
  Of course this is also true for \Macro{markleft}\IndexCmd{markleft}
  if using package \Package{scrpage2}. However, these kinds of
  commands can not be used within commands like
  \Macro{MakeUppercase}\IndexCmd{MakeUppercase} which directly
  influence their argument.
  \Macro{MakeUppercase}\PParameter{\Macro{usekomavar}\Parameter{name}}
  would result in \Macro{usekomavar}\Parameter{NAME}. To avoid this
  problem you may use commands like \Macro{MakeUppercase} as an
  optional argument to \Macro{usekomavar} or \Macro{usekomavar*}. Then
  you will get the uppercase content of a variable using
  \Macro{usekomavar}\PValue{[\Macro{MakeUppercase}]}\Parameter{name}.
\end{Explain}
%
\EndIndex{Cmd}{usekomavar}\EndIndex{Cmd}{usekomavar*}%


\begin{Declaration}
  \Macro{ifkomavarempty}\Parameter{name}\Parameter{true}\Parameter{false}\\
  \Macro{ifkomavarempty*}\Parameter{name}\Parameter{true}\Parameter{false}
\end{Declaration}
\BeginIndex{Cmd}{ifkomavarempty}%
\BeginIndex{Cmd}{ifkomavarempty*}%
\begin{Explain}
  It is important to know that the content or description of the
  variable will be expanded as far as this is possible with
  \Macro{edef}. If this results in spaces or unexpandable macros like
  \Macro{relax}, the result will be not empty even where the use of
  the variable would not result in any visible output.
  
  Both variants of the command also must not be used as the argument
  of \Macro{MakeUppercase}\IndexCmd{MakeUppercase} or other commands
  which have similar effects to their arguments (see the description
  of \Macro{usekomavar} above for more information about using
  commands like \Macro{usekomavar} or \Macro{ifkomavarempty} at the
  argument of \Macro{MakeUppercase}). However, they are robust enough
  to be used as the argument of, e.\,g., \Macro{markboth} or
  \Macro{footnote}.
\end{Explain}
\EndIndex{Cmd}{ifkomavarempty*}%
\EndIndex{Cmd}{ifkomavarempty}%

% Pseudo-lengths:
\subsection{The Pseudo-Lengths}


% ===========================================================================

\subsection{Looking Back on the Old Letter Class\protect\footnote{This section is
  deprecated and should be transformed into the new structure. Translators
  from German to English would be welcome!}}
\label{sec:scrlttr2-deprecated.scrlettr}

With the June 2002 release the old letter class
\Class{scrlettr}\IndexClass{scrlettr} became obsolete. It is
recommended not to use that class for new applications. There is no
more active development of the old letter class, and support is very
restricted. However, if you really need the documentation of the old
letter class, you can still find it in the file \File{scrlettr.dtx},
but only in German. You should run it through {\LaTeX} several times,
like this:
\begin{lstlisting}
  latex scrlettr.dtx
  latex scrlettr.dtx
  latex scrlettr.dtx
\end{lstlisting}
Then you obtain the file \File{scrlettr.dvi} containing the old German
manual.

To facilitate the transition to the new class, there is a
compatibility option. In general, the complete older functionality
still remains in the new class.  Without that compatibility option,
the user interface and the defaults will be different. More details on
%this option is provided in \autoref{sec:scrlttr2.options} and
%\autoref{sec:scrlttr2.fromscrlettr}.
this option are provided in \autoref{sec:scrlttr2.lcoFile},
\autoref{tab:lcoFiles} and \autoref{sec:scrlttr2.fromscrlettr}.


\subsection{The Letter Class Option Files}
\label{sec:scrlttr2-experts.lcoFile}

\begin{Explain}
\begin{Declaration}
  \Macro{LetterOptionNeedsPapersize}%
    \Parameter{option name}\Parameter{paper size}
\end{Declaration}
\BeginIndex{Cmd}{LetterOptionNeedsPapersize}
As mentioned in \autoref{sec:scrlttr2.typeareaOptions}, at present
there exist only parameter sets and \File{lco} files for A4-sized
paper. In order that you will at least be warned when using another
\PName{paper size}, you will find a \Macro{LetterOptionNeedsPapersize}
command in every \File{lco} file distributed with {\KOMAScript}. The
first argument is the name of the \File{lco} file without the
``\File{.lco}'' suffix. The second argument is the paper size for
which the \File{lco} file is designed.

If several \File{lco} files are loaded in succession, a
\Macro{LetterOptionNeedsPapersize} command can be contained in each of
them, but the \Macro{opening} command will only check the last given
\PName{paper size}. As shown in the following example, an experienced
user can thus easily write \File{lco} files with parameter sets for
other paper sizes. If you do not plan to set up such \File{lco} files
yourself, you may just forget about this option and skip the example.

\begin{Example}
  Suppose you use A5-sized paper in normal, i.\,e., upright or
  portrait, orientation for your letters. We further assume that you
  want to put them into standard C6 window envelopes. In that case,
  the position of the address field would be the same as for a DIN
  standard letter on A4-sized paper. The main difference is that A5
  paper needs only one fold. So you want to disable the upper and
  lower fold marks. The easiest way to achieve this is to place the
  marks outside of the paper area.
\begin{lstcode}
  \ProvidesFile{paper=a5.lco}[2002/05/02 letter class option]
  \LetterOptionNeedsPapersize{paper=a5}{a5}
  \@setplength{tfoldmarkvpos}{\paperheight}
  \@setplength{bfoldmarkvpos}{\paperheight}
\end{lstcode}
Besides this, the placement of the foot, that is, the pseudo-length
\PLength{firstfootvpos}, must be adjusted. It is left to the reader to
find an appropriate value. When using such an \File{lco} file, you
must only take care that other \File{lco} file options, like
\File{SN}, are declared before the paper size, i.\,e., before loading
``\File{paper=a5.lco}''. Does this seem too complicated?  Only before
you have used it the first time. Anyway, how often do you write
letters not using your standard formats for A4-size or letter-size
paper?
\end{Example}
%
\EndIndex{Cmd}{LetterOptionNeedsPapersize}
\end{Explain}


\subsection{Variables}
\label{sec:scrlttr2-experts.variables}

\BeginIndex{}{variables}%

\begin{Declaration}
  \Macro{newkomavar}\OParameter{description}\Parameter{name}\\
  \Macro{newkomavar*}\OParameter{description}\Parameter{name}\\
  \Macro{removereffields}\\
  \Macro{defaultreffields}\\
  \Macro{addtoreffields}\Parameter{name}
\end{Declaration}
\BeginIndex{Cmd}{newkomavar}\BeginIndex{Cmd}{newkomavar*}%
\BeginIndex{Cmd}{addtoreffields}\BeginIndex{Cmd}{removereffields}%
\BeginIndex{Cmd}{defaultreffields}%
With \Macro{newkomavar} a new variable is defined. This variable is
addressed via \PName{name}. As an option you can define a
\PName{description} for the variable \PName{name}. Using the command
\Macro{addtoreffields} you can add the variable \PName{name} to the
reference fields line (see \autoref{sec:scrlttr2.refLine}). The
\PName{description} and the content of the variable are added at the
end of the reference fields line. The starred version
\Macro{newkomavar*} is similar to the unstarred version, with a
subsequent call of the command \Macro{addtoreffields}. Thus, the
starred version automatically adds the variable to the reference
fields line.
\begin{Example}
  Suppose you need an additional field for direct dialling. You can
  define this field either with
\begin{lstcode}
  \newkomavar[Direct dialling]{myphone}
  \addtoreffields{myphone}
\end{lstcode}
  or more concisely with
\begin{lstcode}
  \newkomavar*[direct dialling]{myphone}
\end{lstcode}

\end{Example}
When you define a variable for the reference fields line you should always
give it a description.

With the command \Macro{removereffields} all variables in the ference
line can be removed. This also includes the predefined variables of
the class. The reference fields line is then empty except for the date
which is always appended to the end. This can be useful, for example,
if you wish to change the order of the variables in the reference
fields line.

The command \Macro{defaultreffields} acts to reset the reference
fields line to its predefined format. In doing so, all custom-defined
variables are removed from the reference fields line.
%
\EndIndex{Cmd}{defaultreffields}%
\EndIndex{Cmd}{newkomavar}\EndIndex{Cmd}{newkomavar*}%
\EndIndex{Cmd}{addtoreffields}\EndIndex{Cmd}{removereffields}%
%
\EndIndex{}{variables}

\subsection{The Letter Declaration\protect\footnote{This section is
  deprecated and should be transformed into the new structure. Translators
  from German to English would be welcome!}}
\label{sec:scrlttr2-deprecated.startLetter}

The letter declaration gives all settings for the letter itself, as
well as for the first page of the body. The first page consists of
more than just the preliminaries of the letter; in fact, it consists
of several different parts.


\subsubsection{Foldmarks}
\label{sec:scrlttr2-experts-deprecated.foldmarks}
\BeginIndex{}{foldmark}%

\begin{Declaration}
  \FontElement{foldmark}
\end{Declaration}
\BeginIndex{FontElement}{foldmark}%
Via\ChangedAt{v2.97c}{\Class{scrlttr2}} this element the color of the
foldmarks can be changed. To do so, the commands to change the font of
the element are usd, as described in \autoref{sec:scrlttr2.font},
\autopageref{sec:scrlttr2.font}. The default setting is no change.
\EndIndex{FontElement}{foldmark}%

\subsubsection{The Letterhead}
\label{sec:scrlttr2-experts.firstHead}

The term letterhead here refers to all of the data pertaining to the
sender and which is set above the addressee's address. It is usually
expected that this information is set via the page style settings. In
fact, this was the case in the earlier incarnation of the letter
class, \Class{scrlettr}. But with \Class{scrlttr2}, the letterhead is
made independent of the page style setting, and is set by the command
\Macro{opening}.
% Fuellmaterial
\iftrue The position of the letterhead is absolute and independent of
the type area. In fact, the first page of a letter, the page that
holds the letterhead, is set using the page style \PValue{empty}.  \fi
% Ende des Fuellmaterials

\begin{Declaration}
  \PLength{firstheadvpos}
\end{Declaration}
\BeginIndex{PLength}{firstheadvpos}%
The pseudo-length \PLength{firstheadvpos} gives the distance between
the top edge of the paper and start of the letterhead. This value is
set differently in the various predefined \File{lco} files. A typical
value is 8\Unit{mm}.
%
\EndIndex{PLength}{firstheadvpos}

\begin{Declaration}
  \PLength{firstheadwidth}
\end{Declaration}
\BeginIndex{PLength}{firstheadwidth}%
The pseudo-length \PLength{firstheadwidth} gives the width of the
letterhead. This value is set differently in the various predefined
\File{lco} files. While this value usually depends on the paper width
and the distance between the left edge of the paper and the adressee
address field, it was the type area width in \Option{KOMAold}.
%
\EndIndex{PLength}{firstheadwidth}%

\begin{Declaration}
  \PLength{fromrulethickness}\\
  \PLength{fromrulewidth}
\end{Declaration}
\BeginIndex{PLength}{fromrulethickness}%
\BeginIndex{PLength}{fromrulewidth}%
Depending on the class option \Option{fromrule} (see
\autoref{sec:scrlttr2.headoptions},
\autopageref{desc:scrlttr2.option.fromrule}), a horizontal rule can be
drawn the predefined letterheads under or within the sender
address. If the pseudo-length \PLength{fromrulewidth} has a value of
0\Unit{pt}, which is the default in the predefined \File{lco} files,
the rule length is calculated automatically taking into account,
e.\,g., letterhead width or an optional logo. Users can adjust rule
length manually in their own \File{lco} files by setting this
pseudo-length to positive values using \Macro{\@setplength} (see
\autoref{sec:scrlttr2.pseudoLength},
\autopageref{desc:scrlttr2.cmd.@setplength}). The default
thickness of the line\ChangedAt{v2.97c}{\Class{scrlttr2}},
\PLength{fromrulethickness}, is 0.4\Unit{pt}.
%
\EndIndex{PLength}{fromrulethickness}%
\EndIndex{PLength}{fromrulewidth}%


\subsubsection{The Letterfoot}
\label{sec:scrlttr2-experts.firstFoot}
\BeginIndex{}{letter>footer}%

As the first page holds a letterhead of its own, it also holds a
footer of its own. And, as with the letterhead, it will not be set by
the page style settings, but directly with the use of \Macro{opening}.

\begin{Declaration}
  \PLength{firstfootvpos}
\end{Declaration}
\BeginIndex{PLength}{firstfootvpos}%
%
This pseudo-length gives the distance between the letterfoot and the
upper edge of the paper. This value is set differently in the various
predefined \File{lco} files. It also takes care of preventing text
from jutting into the footer area. If needed, it can help to shorten
the text height on the first page using \Macro{enlargethispage}.
Likewise, and if it is needed, the text height can conversely be
extended with the help of the option \Option{enlargefirstpage}. This
way, the distance between text area and the first letterfoot can be
reduced to the value \Length{footskip}. See also
\autoref{sec:scrlttr2.typeareaOptions},
\autopageref{desc:scrlttr2.option.enlargefirstpage}.

With the compatibility option set\ChangedAt{2.9t}{\Class{scrlttr2}} up
to version 2.9t (see \Option{version} in
\autoref{sec:scrlttr2.compatibilityOptions},
\autopageref{desc:scrlttr2.option.version}) the footer is set
independently of the type area in all predefined \File{lco} files (see
\autoref{sec:scrlttr2.lcoFile}) except for \Option{KOMAold}. The
option \Option{enlargefirstpage} also loses its effect. From version
2.9u onwards the footer is set in a position at the bottom edge of the
paper. In this situation, the height of the type area also becomes
dependent on \Option{enlargefirstpage}.

If the letterfoot be switched off using option
\Option{firstfoot}\IndexOption{firstfoot}\ChangedAt{v2.97e}{\Class{scrlttr2}}
(siehe \autoref{sec:scrlttr2.footoptions},
\autopageref{desc:scrlttr2.option.firstfoot}), then the setting of
\PLength{firstfootvpos} is ignored, and instead
\Length{paperheight}\IndexLength{paperheight} is applied.  Thus, there
remains a mimimum bottom margin of length
\Length{footskip}\IndexLength{footskip}.
%
\EndIndex{PLength}{firstfootvpos}%


\begin{Declaration}
  \PLength{firstfootwidth}
\end{Declaration}
\BeginIndex{PLength}{firstfootwidth}%
This pseudo-length gives the width of the letter's first page
footer. The value is set equal to that of the pseudo-length
\PLength{firstheadwidth} in the predefined \File{lco} files.
%
\EndIndex{PLength}{firstfootwidth}%

%
\EndIndex{}{letter>footer}%

\subsubsection{The Address}
\label{sec:scrlttr2-experts.addressee}
\BeginIndex{}{address}%

The term address here refers to the addressee's name and address which
are output in an address field. Additional information can be output
within this address field, such as dispatch type or a return address;
the latter is especially useful when using window envelopes. The
address directly follows the letterhead.

\begin{Declaration}
  \PLength{toaddrvpos}\\
  \PLength{toaddrhpos}
\end{Declaration}
\BeginIndex{PLength}{toaddrvpos}%
\BeginIndex{PLength}{toaddrhpos}%
These pseudo-lengths define vertical and horizontal position of the
address field relative to the top-left corner of the paper. Values are
set differently in the various predefined \File{lco} files, according
to standard envelope window measures. A special feature of
\PLength{toaddrhpos} is that with negative values the offset is that
of the right edge of the address field relative to the right edge of
the paper. This can be found, for instance, in the case of
\Option{SN}. The smallest value of \PLength{toaddrvpos} is found with
\Option{DINmtext}. Care must be taken to avoid overlap of letterhead
and address field. Whether the address field is output or not can be
controlled by class option \Option{addrfield} (see
\autoref{sec:scrlttr2.headoptions},
\autopageref{desc:scrlttr2.option.addrfield}).
%
\EndIndex{PLength}{toaddrhpos}%
\EndIndex{PLength}{toaddrvpos}%

\begin{Declaration}
  \PLength{toaddrheight}
\end{Declaration}
\BeginIndex{PLength}{toaddrheight}%
The pseudo-length \PLength{toaddrheight} defines the height of the
address field, including the dispatch type. If no dispatch type is
specified, then the address is vertically centered in the field. If a
dispatch type is specified, then the address is set below the dispatch
type, and vertically centered in the remaining field height.
%
\EndIndex{PLength}{toaddrheight}%
 
\begin{Declaration}
  \PLength{toaddrwidth}
\end{Declaration}
\BeginIndex{PLength}{toaddrwidth}%
The pseudo-length \PLength{toaddrwidth} defines the width of the
address field. Values are set differently in the various predefined
\File{lco} files, according to standard envelope window
measures. Typical values are between 70\Unit{mm} and 100\Unit{mm}.
\begin{Example}
  Assume that your printer has a very wide left or right margin of
  15\Unit{mm}. In this case, when using the option \Option{SN}, the
  letterhead, sender's extensions and the address can not be
  completely printed. Thus, you create a new \File{lco} file with the
  following content:
  \begin{lstcode}
    \ProvidesFile{SNmmarg.lco}
    [2002/06/04 v0.1 my own lco]
    \LoadLetterOption{SN}
    \@addtoplength{toaddrwidth}{%
      -\useplength{toaddrhpos}}
    \@setplength{toaddrhpos}{-15mm}
    \@addtoplength{toaddrwidth}{%
      \useplength{toaddrhpos}}
    \endinput
  \end{lstcode}
  Then, until you can obtain a printer with smaller page margins, you
  simply use the option \Option{SNmmarg} instead of \Option{SN}.
\end{Example}
%
\EndIndex{PLength}{toaddrwidth}%


\begin{Declaration}
  \PLength{toaddrindent}
\end{Declaration}
\BeginIndex{PLength}{toaddrindent}%
Additional indentation of the address within address field can be
controlled by the pseudo-length \PLength{toaddrindent}. Its value
applies to both left and right margin. Default value is 0\Unit{pt}.
%
\EndIndex{PLength}{toaddrindent}%


\begin{Declaration}
  \PLength{specialmailindent}\\
  \PLength{specialmailrightindent}
\end{Declaration}
\BeginIndex{PLength}{specialmailindent}%
\BeginIndex{PLength}{specialmailrightindent}%
An optional dispatch type can be output within the address field
between the return address and the addressee address, by setting the
variable \Variable{specialmail}. Left and right alignment are
determined by pseudo-lengths \PLength{specialmailindent} and
\PLength{specialmailrightindent}, respectively. In the predefined
\File{lco} files provided by \KOMAScript, \PLength{specialmailindent}
is set to rubber length \Macro{fill}, while
\PLength{specialmailrightindent} is set to 1\Unit{em}. Thus the
dispatch type is set 1\Unit{em} from the address field's right margin.
%
\EndIndex{PLength}{specialmailindent}%
\EndIndex{PLength}{specialmailrightindent}%


\subsubsection{The Sender's Extensions}
\label{sec:scrlttr2-experts.locationField}
\BeginIndex{}{sender's extension}

Often, especially with business letters, the space for the letterhead
or page footer seems to be too tight to include all you want. To give
more details about the sender, often the space right beside the
addressee's field is used. In this manual this field is called the
\emph{sender's extension}


\begin{Declaration}
  \PLength{locheight}\\
  \PLength{lochpos}\\
  \PLength{locvpos}\\
  \PLength{locwidth}
\end{Declaration}
\BeginIndex{PLength}{locwidth}%
\BeginIndex{PLength}{locheight}%
\BeginIndex{PLength}{lochpos}%
\BeginIndex{PLength}{locvpos}%
The pseudo-lengths \PLength{locwidth} and
\PLength{locheight}\ChangedAt{v2.97d}{\Class{scrlttr2}} set the width
and height of the sender's extension field. The pseudo-lengths
\PLength{lochpos} and \PLength{locvpos} determine the distances from
the right and upper paper edges. These value is typically set to
0\Unit{pt} in the predefined \File{lco} files. This does not mean that
the sender's extension has no width; instead, it means that the actual
width is set with \Macro{opening} when the paper width, address window
width, and the distance between the left and upper edges of the paper
and the address window are known. The option \Option{locfield} (see
\autoref{sec:scrlttr2.headoptions},
\autopageref{desc:scrlttr2.option.locfield}) is also taken into
account. As is the case for \PLength{toaddrhpos}, negative values of
\PLength{lochpos} take on a special meaning. In that case, instead of
referring to a distance from the right edge of the paper,
\PLength{lochpos} now means a distance from the left edge of the
paper. The meaning is thus the opposite to that of
\PLength{toaddrhpos} (see \autoref{sec:scrlttr2.addressee},
\autopageref{desc:scrlttr2.plength.toaddrhpos}).
%
\EndIndex{PLength}{locwidth}
\EndIndex{PLength}{locheight}%
\EndIndex{PLength}{lochpos}%
\EndIndex{PLength}{locvpos}%


\EndIndex{}{sender's extension}%


\subsubsection{The Reference Fields Line}
\label{sec:scrlttr2-experts.refLine}
\BeginIndex{}{reference fields line}%

Especially with business letters, a line can be found that gives
initials, dial code, customer number, invoice number, or a reference
to a previous letter.  In this manual this line is called the
\emph{reference fields line}. The reference fields line can consist of
more than just one line and is set only if one of those variables
mentioned above is given. Only those fields will be set that are
given. To set a seemingly empty field, one needs to give as value at
least a white space or \Macro{null}. If you want to have your letter
without a reference fields line, then instead of it the label and
contents of the variable \Variable{date} will be set.


\begin{Declaration}
  \PLength{refvpos}
\end{Declaration}
\BeginIndex{PLength}{refvpos}%
This pseudo-length gives the distance between the upper edge of the
paper and the reference fields line. Its value is set differently in
the various predefined \File{lco} files. Typical values are between
80.5\Unit{mm} and 98.5\Unit{mm}.
%
\EndIndex{PLength}{refvpos}%


\begin{Declaration}
  \PLength{refwidth}\\
  \PLength{refhpos}
\end{Declaration}
\BeginIndex{PLength}{refwidth}%
This pseudo-length gives the width that is available for the reference
fields line.  The value is set typically to 0\Unit{pt} in the
predefined \File{lco} files.  This value has a special meaning: in no
way does it determine that there is no available width for the
business line; instead, this value means that the width will be
calculated with the \Macro{opening}. Thus the calculated width depends
on the determination of the options \Option{refline} (see
\autoref{sec:scrlttr2.headoptions},
\autopageref{desc:scrlttr2.option.refline}). At the same time,
\PLength{refhpos} will be set according to this option. With
\Option{refline=}\PValue{wide}, the reference fields line is centered,
while with \Option{refline=}\PValue{narrow} it is aligned on the left.

If \PLength{refwidth} non-null, i.\,e., the width of the reference
fields line is therefore not determined by the option
\Option{refline}, then \PLength{refhpos} gives the distance of the
reference fields line from the left edge of the paper. If this
distance is null, then the reference fields line is set so that the
ratio between its distances from the left and right edges of the paper
equal the ratio of distance of the type area from the left and right
edges of the paper. Thus, for a type area horizontally centered on the
paper, the reference fields line too will be centered.

As a rule, these special cases are likely to be of little interest to
the normal user. The simplest rule is as follows: either
\PLength{refhpos} is left at null and so the width and alignment of
the reference fields line are left to the option \Option{refline}, or
\PLength{refwidth} as well as \PLength{refhpos} are set by the user.
%
\EndIndex{PLength}{refwidth}%
\EndIndex{PLength}{refhpos}%


\begin{Declaration}
  \PLength{refaftervskip}
\end{Declaration}
\BeginIndex{PLength}{refaftervskip}%
This pseudo-length gives the vertical space that has to be inserted
beneath the reference fields line. The value is set in the predefined
\File{lco} files. It directly affects the text height of the first
page. A typical value lies between one and two lines.
%
\EndIndex{PLength}{refaftervskip}%
%
\EndIndex{}{reference fields line}%


\subsubsection{Closing}
\label{sec:scrlttr2-experts.closing}

The closing consists of three parts: besides the closing phrase there
are a hand-written inscription and the signature, which acts as an
explanation for the inscription.

\begin{Declaration}
  \PLength{sigindent}\\
  \PLength{sigbeforevskip}
\end{Declaration}
\BeginIndex{PLength}{sigindent}%
\BeginIndex{PLength}{sigbeforevskip}%
Closing phrase and signature will be typeset in a box. The width of
the box is determined by the length of the longest line of the closing
phrase or signature.

The box will be typeset with indentation of the length set in
pseudo-length \PLength{sigindent}. In the predefined \File{lco} files
this length is set to 0\Unit{mm}.

Between closing phrase and signature a vertical space is inserted, the
height of which is defined in the pseudo-length
\PLength{sigbeforevskip}. In the predefined \File{lco} files this is
set to 2 lines.  In this space you can then write your inscription.
\begin{Example}
  You are writing as the directorate of a society a letter to all
  members.  Moreover, you want on the one hand to elucidate that you
  are writing in the name of the board of directors, and on the other
  hand you want indicate your position on the board of directors.
\begin{lstcode}
  \setkomavar{signature}{John McEnvy\\
   {\small (Vice-President ``The Other Society'')}}
  \closing{Regards\\
    (for the board of directors)}
\end{lstcode}
You can of coure set the variable \Variable{signature} in your private
\File{lco} files.  Otherwise it is advisable to define the variable in
the letter preamble (see \autoref{sec:scrlttr2.startLetter}).
\end{Example}
%
\EndIndex{PLength}{sigindent}%
\EndIndex{PLength}{sigbeforevskip}%


\subsection{Language Support\protect\footnote{This section is
  deprecated and should be transformed into the new structure. Translators
  from German to English would be welcome!}}
\label{sec:scrlttr2-experts.languages}
\BeginIndex{}{language}%

The document class \Class{scrlttr2} supports many languages.  These
include German (\PValue{german} for old German orthography,
\PValue{ngerman} for the new orthography, and \PValue{austrian} for
Austrian), English (\PValue{english} without specification as to
whether American or British should be used, \PValue{american} and
\PValue{USenglish} for American, and \PValue{british} and
\PValue{UKenglish} for British), French, Italian, Spanish, Dutch,
Croatian, Finnish, Norsk\ChangedAt{v3.02}{\Class{scrlttr2}}, and
Swedish\ChangedAt{v3.08}{\Class{scrlttr2}}.

\subsubsection{Language Selection}
\label{sec:scrlttr2-experts.switchLanguage}
\Index[indexmain]{language>selection}

If the package \Package{babel}\IndexPackage{babel} (see
\cite{package:babel}) is used, one can switch between languages with
the command \Macro{selectlanguage}\Parameter{language}.  Other
packages like \Package{german}\IndexPackage{german} (see
\cite{package:german}) and \Package{ngerman}\IndexPackage{ngerman}
(see \cite{package:ngerman}) also define this command.  As a rule
though, the language selection takes place already as a direct
consequence of loading such a package. Further information can be
obtained in the documentation of the relevant packages.

\begin{Explain}
  There is one thing more to mention about language packages.  The
  package \Package{french}\IndexPackage{french} (see
  \cite{package:french}) redefines not only the terms of
  \autoref{sec:scrlttr2.languageTerms}, but also other, for instance
  it even redefines the command \Macro{opening}, since it assumes that
  the definition of the standard \Class{letter} is used.  With
  \Class{scrlttr2} this is not the case, therefore the package
  \Package{french} destroys the definition in \Class{scrlttr2} and
  does not work correctly with \KOMAScript. The author views this is a
  fault in the \Package{french} package.

  If one utilizes the \Package{babel}\IndexPackage{babel} package in
  order to switch to language \PValue{french} while the package
  \Package{french}\IndexPackage{french} is simultaneously installed,
  then the same problems will likely occur, since \Package{babel}
  employs definitions from the \Package{french} package. If the
  package \Package{french} is not installed then there are no
  problems. Aimilarly, there is no problem if for \Package{babel}
  instead of \PValue{french} other languages like \PValue{acadian},
  \PValue{canadien}, \PValue{francais} or \PValue{frenchb} are chosen.

  From \Package{babel} version 3.7j this problem only occurs when it
  is indicated explicitly by means of an option that \Package{babel}
  should use the \Package{french} package.

  If it cannot be ascertained that a new version of \Package{babel} is
  being used, it is recommended to use

  %\Macro{usepackage}\PValue{[...,frenchb,...]}\PParameter{babel}

  \begin{lstcode}
    \usepackage[...,frenchb,...]{babel}
  \end{lstcode}

  in order to select french.

  Other languages can possibly cause similar problems. Currently there
  are no known problems with the \Package{babel} package for the
  german language and the various english language selections.

%   \iftrue
%   % You may use this paragraphs to improve page break:
%   Most \Package{babel} features in \Package{babel} or original
%   language definition files of \Package{babel} (e.\,g.,
%   \File{frenchb.ldf}), which may cause problems with other packages or
%   classes, can be switched off. This is a great advantage of babel. So
%   if you have a problem, try to switch of such features or ask the
%   authors of \Package{babel}.

%   There are no known problems with using the
%   \Package{german}\IndexPackage{german} or
%   \Package{ngerman}\IndexPackage{ngerman} package for german selection
%   with old or new orthography, nor for the various english selections.
%   \fi
\end{Explain}
 
\begin{Declaration}
  \Macro{captionsenglish}\\
  \Macro{captionsUSenglish}\\
  \Macro{captionsamerican}\\
  \Macro{captionsbritish}\\
  \Macro{captionsUKenglish}\\
  \Macro{captionsgerman}\\
  \Macro{captionsngerman}\\
  \Macro{captionsaustrian}\\
  \Macro{captionsfrench}\\
  \Macro{captionsitalian}\\
  \Macro{captionsspanish}\\
  \Macro{captionsdutch}\\
  \Macro{captionscroatian} \\
  \Macro{captionsfinnish}\\
  \Macro{captionsnorsk}\\
  \Macro{captionsswedish}
\end{Declaration}
\BeginIndex{Cmd}{captionsenglish}\BeginIndex{Cmd}{captionsUSenglish}%
\BeginIndex{Cmd}{captionsamerican}\BeginIndex{Cmd}{captionsbritish}%
\BeginIndex{Cmd}{captionsUKenglish}\BeginIndex{Cmd}{captionsgerman}%
\BeginIndex{Cmd}{captionsngerman}%
\BeginIndex{Cmd}{captionsaustrian}\BeginIndex{Cmd}{captionsfrench}%
\BeginIndex{Cmd}{captionsitalian}\BeginIndex{Cmd}{captionsspanish}%
\BeginIndex{Cmd}{captionsdutch}\BeginIndex{Cmd}{captionscroatian}%
\BeginIndex{Cmd}{captionsfinnish}%
\BeginIndex{Cmd}{captionsnorsk}%
\BeginIndex{Cmd}{captionsswedish}%
If one switches the language then
using these commands the language-dependent terms from
\autoref{sec:scrlttr2.languageTerms} are redefined.  If the used
language selection scheme does not support this then the commands
above can be used directly.
%
\EndIndex{Cmd}{captionsswedish}%
\EndIndex{Cmd}{captionsnorsk}%
\EndIndex{Cmd}{captionsenglish}\EndIndex{Cmd}{captionsUSenglish}%
\EndIndex{Cmd}{captionsamerican}\EndIndex{Cmd}{captionsbritish}%
\EndIndex{Cmd}{captionsUKenglish}\EndIndex{Cmd}{captionsgerman}%
\EndIndex{Cmd}{captionsngerman}%
\EndIndex{Cmd}{captionsaustrian}\EndIndex{Cmd}{captionsfrench}%
\EndIndex{Cmd}{captionsitalian}\EndIndex{Cmd}{captionsspanish}%
\EndIndex{Cmd}{captionsdutch}\EndIndex{Cmd}{captionscroatian}%
\EndIndex{Cmd}{captionsfinnish}%

\begin{Declaration}
  \Macro{dateenglish}\\
  \Macro{dateUSenglish}\\
  \Macro{dateamerican}\\
  \Macro{datebritish}\\
  \Macro{dateUKenglish}\\
  \Macro{dategerman}\\
  \Macro{datengerman}\\
  \Macro{dateaustrian}\\
  \Macro{datefrench}\\
  \Macro{dateitalian}\\
  \Macro{datespanish}\\
  \Macro{datedutch}\\
  \Macro{datecroatian}\\
  \Macro{datefinnish}\\
  \Macro{datenorsk}\\
  \Macro{dateswedish}
\end{Declaration}
\BeginIndex{Cmd}{dateenglish}\BeginIndex{Cmd}{dateUSenglish}%
\BeginIndex{Cmd}{dateamerican}\BeginIndex{Cmd}{datebritish}%
\BeginIndex{Cmd}{dateUKenglish}\BeginIndex{Cmd}{dategerman}%
\BeginIndex{Cmd}{datengerman}%
\BeginIndex{Cmd}{dateaustrian}\BeginIndex{Cmd}{datefrench}%
\BeginIndex{Cmd}{dateitalian}\BeginIndex{Cmd}{datespanish}%
\BeginIndex{Cmd}{datedutch}\BeginIndex{Cmd}{datecroatian}%
\BeginIndex{Cmd}{datefinnish}%
\BeginIndex{Cmd}{datenorsk}%
\BeginIndex{Cmd}{dateswedish}%
The numerical representation of the date\Index{date} (see option
\Option{numericaldate} in \autoref{sec:scrlttr2.headoptions}) will be
written depending on the selected language. Some examples can be found
in \autoref{tab:date}.
%
\begin{table}[t]
  \centering
  \caption{Language-dependent forms of the date}
  \begin{tabular}{ll}
    \toprule
    Command & Date example \\
    \midrule
    \Macro{dateenglish}   & 24/12/1993\\
    \Macro{dateUSenglish} & 12/24/1993\\
    \Macro{dateamerican}  & 12/24/1993\\
    \Macro{datebritish}   & 24/12/1993\\
    \Macro{dateUKenglish} & 24/12/1993\\
    \Macro{dategerman}    & 24.\,12.\,1993\\
    \Macro{datengerman}   & 24.\,12.\,1993\\
    \Macro{dateaustrian}  & 24.\,12.\,1993\\
    \Macro{datefrench}    & 24.\,12.\,1993\\
    \Macro{dateitalian}   & 24.\,12.\,1993\\
    \Macro{datespanish}   & 24.\,12.\,1993\\
    \Macro{datedutch}     & 24.\,12.\,1993\\
    \Macro{datecroatian}  & 24.\,12.\,1993.\\
    \Macro{datefinnish }  & 24.12.1993.\\
    \Macro{datenorsk}     & 24.12.1993\\
    \Macro{dateswedish}   & 24/12 1993\\
    \bottomrule
  \end{tabular}
  \label{tab:date}
\end{table}
%
\EndIndex{Cmd}{datenorsk}%
\EndIndex{Cmd}{dateenglish}\EndIndex{Cmd}{dateUSenglish}%
\EndIndex{Cmd}{dateamerican}\EndIndex{Cmd}{datebritish}%
\EndIndex{Cmd}{dateUKenglish}\EndIndex{Cmd}{dategerman}%
\EndIndex{Cmd}{datengerman}%
\EndIndex{Cmd}{dateaustrian}\EndIndex{Cmd}{datefrench}%
\EndIndex{Cmd}{dateitalian}\EndIndex{Cmd}{datespanish}%
\EndIndex{Cmd}{datedutch}\EndIndex{Cmd}{datecroatian}%
\EndIndex{Cmd}{datefinnish}%
\EndIndex{Cmd}{dateswedish}%


\subsubsection{Language-Dependent Terms}%
\label{sec:scrlttr2-experts.languageTerms}%
\BeginIndex{}{language>-dependent terms}%
\BeginIndex{}{terms>language-dependent}

As is usual in {\LaTeX}, the language-dependent terms are defined by
commands which are then redefined when one switches the language.

\begin{Declaration}
  \Macro{yourrefname}\\
  \Macro{yourmailname}\\
  \Macro{myrefname}\\
  \Macro{customername}\\
  \Macro{invoicename}\\
  \Macro{subjectname}\\
  \Macro{ccname}\\
  \Macro{enclname}\\
  \Macro{headtoname}\\
  \Macro{headfromname}\\
  \Macro{datename}\\
  \Macro{pagename}\\
  \Macro{phonename}\\
  \Macro{faxname}\\
  \Macro{emailname}\\
  \Macro{wwwname}\\
  \Macro{bankname}
\end{Declaration}
\BeginIndex{Cmd}{yourrefname}\BeginIndex{Cmd}{yourmailname}
\BeginIndex{Cmd}{myrefname}
\BeginIndex{Cmd}{customername}\BeginIndex{Cmd}{invoicename}
\BeginIndex{Cmd}{subjectname}
\BeginIndex{Cmd}{ccname}\BeginIndex{Cmd}{enclname}
\BeginIndex{Cmd}{headtoname}\BeginIndex{Cmd}{headfromname}
\BeginIndex{Cmd}{datename}\BeginIndex{Cmd}{pagename}
\BeginIndex{Cmd}{phonename}\BeginIndex{Cmd}{faxname}
\BeginIndex{Cmd}{emailname}\BeginIndex{Cmd}{wwwname}
\BeginIndex{Cmd}{bankname} The commands above contain the
language-dependent terms. These definitions can be modified in order
to support a new language or for private customization.  How this can
be done is described in \autoref{sec:scrlttr2.defLanguageTerms}.  The
definitions become active only at \Macro{begin}\PParameter{document}.
Therefore they are not available in the {\LaTeX} preamble and cannot
be redefined there. In \autoref{tab:scrlttr2.languageTerms} the
default settings for \Option{english} and \Option{ngerman} can be
found.
%
\EndIndex{Cmd}{yourrefname}\EndIndex{Cmd}{yourmailname}
\EndIndex{Cmd}{myrefname}
\EndIndex{Cmd}{customername}\EndIndex{Cmd}{invoicename}
\EndIndex{Cmd}{subjectname}
\EndIndex{Cmd}{ccname}\EndIndex{Cmd}{enclname}
\EndIndex{Cmd}{headtoname}\EndIndex{Cmd}{headfromname}
\EndIndex{Cmd}{datename}\EndIndex{Cmd}{pagename}
\EndIndex{Cmd}{phonename}\EndIndex{Cmd}{faxname}
\EndIndex{Cmd}{emailname}\EndIndex{Cmd}{wwwname}
\EndIndex{Cmd}{bankname}

\begin{table}[!t]
  \begin{minipage}{\textwidth}
  \centering
  \caption{Default settings for languages \Option{english}
    and \Option{ngerman}}
  \begin{tabular}{lll}
    \toprule
    Command         & \Option{english} & \Option{ngerman} \\
    \midrule
    \Macro{bankname}     & Bank account   & Bankverbindung \\
    \Macro{ccname}\footnotemark[1]       & cc             & Kopien an \\
    \Macro{customername} & Customer no.   & Kundennummer \\
    \Macro{datename}     & Date           & Datum \\
    \Macro{emailname}    & Email          & E-Mail \\
    \Macro{enclname}\footnotemark[1]     & encl           & Anlagen \\
    \Macro{faxname}      & Fax            & Fax \\
    \Macro{headfromname} & From           & Von \\
    \Macro{headtoname}\footnotemark[1]   & To             & An \\
    \Macro{invoicename}  & Invoice no.    & Rechnungsnummer \\
    \Macro{myrefname}    & Our ref.       & Unser Zeichen \\
    \Macro{pagename}\footnotemark[1]     & Page           & Seite \\
    \Macro{phonename}    & Phone          & Telefon \\
    \Macro{subjectname}  & Subject        & Betrifft \\
    \Macro{wwwname}      & Url            & URL \\
    \Macro{yourmailname} & Your letter of & Ihr Schreiben vom\\
    \Macro{yourrefname}  & Your ref.      & Ihr Zeichen \\
    \bottomrule
  \end{tabular}
  \label{tab:scrlttr2.languageTerms}
  \deffootnote{1em}{1em}{\textsuperscript{1}}%
  \footnotetext[1000]{Normally these terms are defined by language
    packages like \Package{babel}. In this case they are not redefined
    by \Class{scrlttr2} and may differ from the table above.}
  \end{minipage}
\end{table}
%

\subsubsection{Defining and Changing Language-dependent Terms}
\label{sec:scrlttr2-experts.defLanguageTerms}
\Index[indexmain]{language>definition}
\begin{Explain}
  Normally one has to change or define the language-dependent terms of
  \autoref{sec:scrlttr2.switchLanguage} in such a way that in addition
  to the available terms the new or redefined terms are defined. This
  is made more difficult by the fact that some packages like
  \Package{german}\IndexPackage{german} or
  \Package{ngerman}\IndexPackage{ngerman} redefine those settings when
  the packages are loaded. This definitions unfortunately occurs in
  such a manner as to destroy all previous private settings. That is
  also the reason why \Class{scrlttr2} delays its own changes, with
  \Macro{AtBeginDocument} until \Macro{begin}\PParameter{document},
  that is, after package loading is completed. The user can also use
  \Macro{AtBeginDocument}, or redefine the language-dependent terms
  after \Macro{begin}\PParameter{document}, that is, not put them in
  the preamble at all. The class \Class{scrlttr2} even provides some
  additional commands for defining language-dependent terms.
\end{Explain}

\begin{Declaration}
  \Macro{providecaptionname}%
    \Parameter{language}\Parameter{term}\Parameter{definition}\\
  \Macro{newcaptionname}%
    \Parameter{language}\Parameter{term}\Parameter{definition}\\
  \Macro{renewcaptionname}%
    \Parameter{language}\Parameter{term}\Parameter{definition}
\end{Declaration}
\BeginIndex{Cmd}{providecaptionname}%
\BeginIndex{Cmd}{newcaptionname}%
\BeginIndex{Cmd}{renewcaptionname}%
Using one of the commands above, the user can assign a
\PName{definition} for a particular \PName{language} to a
\PName{term}.  The \PName{term} is always a macro. The commands differ
dependent on whether a given \PName{language} or a \PName{term} within
a given \PName{language} are already defined or not at the time the
command is called.

If \PName{language} is not defined, then \Macro{providecaptionname}
does nothing other than writes a message in the log file. This happens
only once for each language.  If \PName{language} is defined but
\PName{term} is not yet defined for it, then it will be defined using
\PName{definition}.  The \PName{term} will not be redefined if the
\PName{language} already has such a definition; instead, an
appropriate message is written to the log file.

The command \Macro{newcaptionname} has a slightly different behaviour.
If the \PName{language} is not yet defined, then a new language
command (see \autoref{sec:scrlttr2.switchLanguage}) will be created
and a message written to the log file.  If \PName{term} is not yet
defined in \PName{language}, then it will be defined using
\PName{definition}.  If \PName{term} already exists in
\PName{language}, then this results in an error message.

The command \Macro{renewcaptionname} again behaves differently. It
requires an existing definition of \PName{term} in \PName{language}.
If neither \PName{language} nor \PName{term} exist or \PName{term} is
unknown in a defined language then a error message will be
given. Otherwise, the \PName{term} for \PName{language} will be
redefined according to \PName{definition}.

The class \Class{scrlttr2} itself employs \Macro{providecaptionname}
in order to define the commands in
\autoref{sec:scrlttr2.languageTerms}.
\begin{Example}
  If you prefer ``Your message of'' instead of ``Your letter of'', you
  have to redefine the definition of \Macro{yourmailname}.
\begin{lstcode}
  \renewcaptionname{english}{\yourmailname}{%
    Your message of}
\end{lstcode}
  
Since only existing terms in available languages can be redefined, you
have to put the command after \Macro{begin}\PParameter{document} or
delay the command by using \Macro{AtBeginDocument}. Furthermore, you
will get an error message if there is no package used that switches
language selection to \PName{english}.
\end{Example}
%
\EndIndex{Cmd}{providecaptionname}%
\EndIndex{Cmd}{newcaptionname}%
\EndIndex{Cmd}{renewcaptionname}%
%
\EndIndex{}{language}%
\EndIndex{}{language>-dependent terms}%
\EndIndex{}{terms>language-dependent}


\subsection{From \Class{scrlettr} to \Class{scrlttr2}\protect\footnote{This section is
  deprecated and should be transformed into the new structure. Translators
  from German to English would be welcome!}}
\label{sec:scrlttr2-experts.fromscrlettr}

The first step in the conversion of an old letter written with the
\Class{scrlettr} class is to load the appropriate \File{lco} file
using option \Option{KOMAold} at \Macro{documentclass}.  Thereupon
most commands of the old class should work.  However, you will
encounter some differences in the output, since the page layout of the
old class is not realized exactly. The reason is that the calculation
of the type area in \Class{scrlettr} has some minor bugs. For example,
the position of the folding marks used to depend on the height of the
page header, which again depended on the font size. That was
unambiguously a design error.

There is no compatibility regarding the defined lengths in
\Class{scrlettr}. Thus, if a user has changed the page layout of
\Class{scrlettr}, then the relevant statements should be deleted or
commented out. In some cases, the modification of a length can cause
an error, since this length is no longer defined in \Class{scrlttr2}.
The user should delete or comment out such modifications as well.

After the switch from \Class{scrlettr} to \Class{scrlttr2}, the old
letter example can be successfully compiled already alone through the
setting of the option \Option{KOMAold}:
\begin{lstcode}
  \documentclass[10pt,KOMAold]{scrlttr2}
  \name{{\KOMAScript} team}
  \address{Class Alley 1\\12345 {\LaTeX} City}
  \signature{Your {\KOMAScript} team}
  \begin{document}
    \begin{letter}{{\KOMAScript} users\\
                   Everywhere\\world-wide}
      \opening{Dear {\KOMAScript} users,}
      the  {\KOMAScript} team is proud to announce \dots
      \closing{Happy {\TeX}ing}
    \end{letter}
  \end{document}
\end{lstcode}

The next step is that while wanting the old commands to be still be
available, the layout of the old letter should no longer be used. If,
for example, one wants to sue the layout of the letter class option
\Option{DIN}, then this option can be given in \Macro{documentclass},
but is has to be specified \emph{after} the option \Option{KOMAold}:

\begin{lstcode}
  \documentclass[10pt,KOMAold,DIN]{scrlttr2}
  \name{{\KOMAScript} team}
  \address{Class Alley 1\\12345 {\LaTeX} City}
  \signature{Your {\KOMAScript} team}
  \begin{document}
    \begin{letter}{{\KOMAScript} users\\
                   Everywhere\\world-wide}
      \opening{Dear {\KOMAScript} users,}
      the {\KOMAScript} team is proud to announce \dots
      \closing{Happy {\TeX}ing}
    \end{letter}
  \end{document}
\end{lstcode}
By using more options this way, you can further influence the
layout. However, the author recommends a more inherent change right
away.

The last step is to replace all old commands with their new
equivalents, and to omit the option \Option{KOMAold}. For this task,
it may help to read the contents of \File{KOMAold.lco}.  In that file
the old commands are defined using the new commands and variables.

\begin{lstcode}
  \documentclass{scrlttr2}
  \setkomavar{fromname}{{\KOMAScript} team}
  \setkomavar{fromaddress}{Class Alley 1\\
                           12345 {\LaTeX} City}
  \setkomavar{signature}{Your {\KOMAScript} team}
  \let\raggedsignature=\raggedright
  \begin{document}
    \begin{letter}{{\KOMAScript} users\\
                   Everywhere\\
                   world-wide}
      \opening{Dear {\KOMAScript} users,}
      the {\KOMAScript} team is proud to announce \dots
      \closing{Happy {\TeX}ing}
    \end{letter}
  \end{document}
\end{lstcode}
This example shows also the possibility to change the alignment of the
signature by redefining the command \Macro{raggedsignature}.  This is
always recommended when the width of the explanation of the signature as
defined by the command
\Macro{setkomavar}\PParameter{signature}\PParameter{\dots} is greater than the
width of the argument of \Macro{closing}.


\endinput

%%% Local Variables: 
%%% mode: latex
%%% mode: flyspell
%%% ispell-local-dictionary: "english"
%%% coding: us-ascii
%%% TeX-master: "../guide"
%%% End: 
